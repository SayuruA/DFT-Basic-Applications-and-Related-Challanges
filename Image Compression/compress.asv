function B_tilde = compress(block_8by8, qualityLevel)
% ** This function compresses an 8 by 8 matrix according to the 'qualityLevel'

% cast the matrix into double    
formattedBlock = double(block_8by8);
B = formattedBlock -128; % Levelled off by subtracting 128
C = dct2(B);

Qn = Q_mat(qualityLevel); % Quantization Matrix

S = round(C./Qn);
R = S.*Qn;
B_tilde = idct2(R) + 128;

end